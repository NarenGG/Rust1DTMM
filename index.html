<!DOCTYPE html>
<html>
<head>
    <title>Rust1DTMM</title>
</head>
<body>
    <h1>Rust1DTMM Web Interface</h1>
    <form id="inputForm">
        <label for="wavelength">Wavelength:</label>
        <input type="text" id="wavelength" name="wavelength"><br>
        <label for="angle">Angle:</label>
        <input type="text" id="angle" name="angle"><br>
        <label for="real_part">Refractive Index (Real):</label>
        <input type="text" id="real_part" name="real_part"><br>
        <label for="imag_part">Refractive Index (Imaginary):</label>
        <input type="text" id="imag_part" name="imag_part"><br>
        <label for="thickness">Thickness:</label>
        <input type="text" id="thickness" name="thickness"><br>
        <button type="submit">Calculate</button>
    </form>
    <p id="result"></p>
    <script type="module">
        import { init, solve_tmm } from './index.js';

        async function main() {
            await init();
            const form = document.getElementById('inputForm');
            form.addEventListener('submit', (event) => {
                event.preventDefault();
                const wavelength = parseFloat(document.getElementById('wavelength').value);
                const angle = parseFloat(document.getElementById('angle').value);
                const real_part = parseFloat(document.getElementById('real_part').value);
                const imag_part = parseFloat(document.getElementById('imag_part').value);
                const thickness = parseFloat(document.getElementById('thickness').value);

                const result = solve_tmm(wavelength, angle, real_part, imag_part, thickness);
                document.getElementById('result').textContent = `Result: ${result}`;
            });
        }

        main();
    </script>
</body>
</html>
